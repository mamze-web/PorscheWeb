<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>파이어베이스 필드 값 설정</title>
</head>
<body>

<label for="collection">컬렉션 이름:</label>
<input type="text" id="collection"><br>

<label for="documentId">문서 ID:</label>
<input type="text" id="documentId"><br>

<label for="fieldName">필드 이름:</label>
<input type="text" id="fieldName"><br>

<label for="fieldValue">필드 값:</label>
<input type="text" id="fieldValue"><br>

<button onclick="setFirebaseFieldValue()">필드 값 설정</button>

<!-- 파이어베이스 SDK -->
<script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-firestore.js"></script>

<script>
  // Firebase 설정
  const firebaseConfig = {
    apiKey: "AIzaSyCpAt3YLkPU_nDbbh3PvpeWhIGBXeQ8Mxg",
    authDomain: "test-2d15c.firebaseapp.com",
    projectId: "test-2d15c",
    storageBucket: "test-2d15c.appspot.com",
    messagingSenderId: "620959027881",
    appId: "1:620959027881:web:1bb1c97f8d0148f9efcfb8",
    measurementId: "G-HF2WQ8JLBB"
  };

  // Firebase 초기화
  firebase.initializeApp(firebaseConfig);

  // Firestore 객체 생성
  const firestore = firebase.firestore();

  // 필드 값을 설정하는 함수
  function setFirebaseFieldValue() {
    const collectionName = document.getElementById("collection").value;
    const documentId = document.getElementById("documentId").value;
    const fieldName = document.getElementById("fieldName").value;
    const fieldValue = document.getElementById("fieldValue").value;

    // 컬렉션 레퍼런스
    const collectionRef = firestore.collection(collectionName);
    
    // 문서 레퍼런스
    const documentRef = collectionRef.doc(documentId);
    
    // 필드 값을 설정
    documentRef.update({
      [fieldName]: fieldValue
    })
    .then(() => {
      console.log(`'${fieldName}' 필드에 '${fieldValue}' 값을 설정했습니다.`);
      alert(`'${fieldName}' 필드에 '${fieldValue}' 값을 설정했습니다.`);
    })
    .catch((error) => {
      console.error("오류 발생:", error);
      alert("오류 발생: " + error);
    });
  }
</script>

</body>
</html>
